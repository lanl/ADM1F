

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>PH Control &mdash; ADM1F 0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="PH Control for One-Phase and Two-Phase Reactor" href="ph12.html" />
    <link rel="prev" title="ADM1F SRT: Synthetic Model-Data Calibration" href="parameter-calibration.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ADM1F
          

          
          </a>

          
            
            
              <div class="version">
                v0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Guide:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../compile.html">Compile ADM1F</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compile.html#running-adm1f">Running ADM1F</a></li>
<li class="toctree-l1"><a class="reference internal" href="../compile.html#adm1f-srt">ADM1F SRT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../inouts.html">Inputs/Outputs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../examples.html">Examples</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="demos.html">Jupyter Notebook</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="Steady_State_Run.html">ADM1F: Steady State</a></li>
<li class="toctree-l3"><a class="reference internal" href="execution_time.html">ADM1F: Execution time</a></li>
<li class="toctree-l3"><a class="reference internal" href="ADM1F_SRT_2phase.html">ADM1F SRT: single tank and two-phase anaerobic dynamic membrane bioreactor</a></li>
<li class="toctree-l3"><a class="reference internal" href="io_sensitivity_analysis.html">ADM1F_SRT: Input/output sensitivity</a></li>
<li class="toctree-l3"><a class="reference internal" href="parameter-calibration.html">ADM1F SRT: Synthetic Model-Data Calibration</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">PH Control</a><ul>
<li class="toctree-l4"><a class="reference internal" href="ph12.html">PH Control for One-Phase and Two-Phase Reactor</a></li>
<li class="toctree-l4"><a class="reference internal" href="ph-control.html">ADM1F_SRT: Ph control method</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../join.html">Join Us on Slack</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ADM1F</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../examples.html">Examples</a> &raquo;</li>
        
          <li><a href="demos.html">Jupyter Notebook</a> &raquo;</li>
        
      <li>PH Control</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/jupyter_notebook/phcontrol.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="ph-control">
<h1>PH Control<a class="headerlink" href="#ph-control" title="Permalink to this headline">¶</a></h1>
<p>The two-phase AnDMBR simulates a rumen environment to enhance the rates of hydrolysis and acidogenesis. A large amount of volatile fatty acids that decreases PH is produced, which could lead to digester failure. In real-life conditions, sodium hydroxide is added into the first-phase reactor. This maintains a PH around 6.3 and ensures optimal microbial activities, which is similar to the rumen reactor of a cow. Similarly, the PH in the second-phase methane-producing AnDMBR is maintained at 7.2 to provide optimal reactor functionality. In the AnDMBR model, we retain the appropriate levels of PH within each reactor phase by adding corresponding cation mass, which is estimated via the data consistent inversion method <a class="footnote-reference brackets" href="#r1" id="id1">1</a>. The cation amount can then be used to calculate the amount of sodium hydroxide in real implementation. The method and more in-depth mathematical description of the <cite>ph-control</cite> methods can be found in Dr. Zhang’s Ph.D. thesis.</p>
<p><strong>Data Consistent Inversion Method</strong></p>
<p>Data consistent inversion method is used here to determine the cation needed to adjust the PH level in the reactor. It is first introduced for uncertainty quantification in inverse problems in <a class="footnote-reference brackets" href="#r1" id="id2">1</a> where the ideas and derivations behind it were discussed in great detail. Since the goal here is to solve the inverse problem where target PH, <span class="math notranslate nohighlight">\(\mu^*\)</span>, can be achieved, we can apply this method to our model. Our goal here is to control the PH in the reactor within an acceptable range. We denote the target PH value by <span class="math notranslate nohighlight">\(\mu^*\)</span>, a small deviation is allowed around <span class="math notranslate nohighlight">\(\mu^*\)</span> to meet real-life conditions.</p>
<p>Gaussian (or normal) distribution denoted by <span class="math notranslate nohighlight">\(N(\mu, \sigma^2)\)</span> has a property that
there is a probability of 99.73% that its observation denoted by <span class="math notranslate nohighlight">\(X\)</span> will lie within three standard deviations (<span class="math notranslate nohighlight">\(3\sigma\)</span>) of the mean (<span class="math notranslate nohighlight">\(\mu\)</span>). This is the so-called three-sigma rule of thumb, to write it in mathematical notation cite{3sigma},</p>
<div class="math notranslate nohighlight">
\[P(\mu-3\sigma \leq X \leq \mu+3\sigma) \approx 99.73\%.\]</div>
<p>We would like to use this special property of Gaussian distribution to achieve a high chance of predicted PH being in the three standard deviations of <span class="math notranslate nohighlight">\(\mu^*\)</span>. Therefore we assume that our predicted PH value follows a Gaussian distribution <a class="footnote-reference brackets" href="#f1" id="id3">2</a>, <span class="math notranslate nohighlight">\(N(\mu^*, \sigma^2)\)</span>. We first propose an initial probability  density function (pdf) of cationfootnote{A uniform distribution <span class="math notranslate nohighlight">\(U(0,0.2)\)</span> is assumed in our model.}, then the data consistent inversion method is applied to update the pdf  of cation such that the pdf of <span class="math notranslate nohighlight">\(N(\mu^*, \sigma^2)\)</span> is returned when the updated pdf is propagated through the model.</p>
<p>The following figure describes the relation between cation density, model and PH density.</p>
<img alt="../_images/pdftonormal.png" src="../_images/pdftonormal.png" />
<p>The methodology of data consistent inversion <a class="footnote-reference brackets" href="#f2" id="id4">3</a> guarantees that when a sample of the updated pdf of cation is put in the model input, there is a probability of 99.73% that the predicted PH will be within three standard deviations around <span class="math notranslate nohighlight">\(\mu^*\)</span> (grey area). It is straightforward to get the conclusion  that the smaller <span class="math notranslate nohighlight">\(\sigma\)</span> we choose in <span class="math notranslate nohighlight">\(N(\mu^*, \sigma^2)\)</span>, the more accurate the PH will be.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="ph12.html">PH Control for One-Phase and Two-Phase Reactor</a></li>
<li class="toctree-l1"><a class="reference internal" href="ph-control.html">ADM1F_SRT: Ph control method</a><ul>
<li class="toctree-l2"><a class="reference internal" href="ph-control.html#1.-Relation-between-cation-and-PH">1. Relation between cation and PH</a></li>
<li class="toctree-l2"><a class="reference internal" href="ph-control.html#2.-PH:-one-phase-reactor">2. PH: one-phase reactor</a></li>
<li class="toctree-l2"><a class="reference internal" href="ph-control.html#3.-PH:-two-phase-reactor">3. PH: two-phase reactor</a></li>
</ul>
</li>
</ul>
</div>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="r1"><span class="brackets">1</span><span class="fn-backref">(<a href="#id1">1</a>,<a href="#id2">2</a>)</span></dt>
<dd><p><a class="reference external" href="https://epubs.siam.org/doi/abs/10.1137/16M1087229?mobileUi=0">T. Butler and J. Jakeman and T. Wildey, Combining Push-Forward Measures and Bayes’ Rule to Construct Consistent Solutions to Stochastic Inverse Problems, SIAM Journal on Scientific Computing, 40, A984-A1011 (2018).</a></p>
</dd>
</dl>
<p class="rubric">Footnote</p>
<dl class="footnote brackets">
<dt class="label" id="f1"><span class="brackets"><a class="fn-backref" href="#id3">2</a></span></dt>
<dd><p>We can also assume different distributions for PH.</p>
</dd>
<dt class="label" id="f2"><span class="brackets"><a class="fn-backref" href="#id4">3</a></span></dt>
<dd><p>Assumptions are not discussed here for the ease of explanation.</p>
</dd>
</dl>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="ph12.html" class="btn btn-neutral float-right" title="PH Control for One-Phase and Two-Phase Reactor" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="parameter-calibration.html" class="btn btn-neutral float-left" title="ADM1F SRT: Synthetic Model-Data Calibration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, The ADM1F Development Team (Elchin Jafarov, Satish Karra, Kuang Zhu, Wenjuan Zhang, and Kurt Solander).

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>